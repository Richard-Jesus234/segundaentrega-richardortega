---
import Layout from '../../layouts/Layout.astro';
import TituloComponents from '../../components/tituloComponents.astro';
import noticias from '../../data/noticias.json';

export function getStaticPaths() {
  return noticias.map((noticia, index) => {
    return {
      params: { id: (index + 1).toString() },
      props: { noticia },
    };
  });
}

const { noticia } = Astro.props;
---

<Layout includeFooter={true}>
  <main class="w-full max-w-4xl mx-auto px-4 sm:px-6 py-8 sm:py-12 pt-24 sm:pt-32">
    <article class="bg-white rounded-lg shadow-lg overflow-hidden">
      <div class="relative w-full">
        <img src={noticia.imagen} alt={noticia.titulo} class="w-full h-48 sm:h-64 md:h-72 object-cover" />
      </div>
      
      <div class="p-4 sm:p-6 md:p-8">
        <TituloComponents text={noticia.titulo} stilo="text-left text-xl sm:text-2xl md:text-3xl" />
        
        <div class="mt-4 sm:mt-6 prose prose-sm sm:prose-base md:prose-lg max-w-none">
          <p class="text-base sm:text-lg">{noticia.descripcion}</p>
          
          <!-- Contenido dinÃ¡mico que toma los datos de mi json -->
          {noticia.contenido && noticia.contenido.map((parrafo) => (
            <p class="mt-3 sm:mt-4">{parrafo}</p>
          ))}
          
          <div class="mt-4 sm:mt-6 text-xs sm:text-sm text-gray-500">
            <p>Publicado: {noticia.fecha || 'Fecha no disponible'}</p>
            <p>Autor: {noticia.autor || 'Autor no disponible'}</p>
          </div>
        </div>
        
        <div class="mt-6 sm:mt-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
          <a href="/blog" class="text-green-700 hover:text-green-800 flex items-center">
            <i class="fa-solid fa-arrow-left mr-2"></i> Volver al blog
          </a>
        </div>
      </div>
    </article>
  </main>
</Layout>